!function(t){var e={init:function(e){var n={time_constant:200,dist:-100,shift:0,padding:0,full_width:!1};return e=t.extend(n,e),this.each(function(){function n(){"undefined"!=typeof window.ontouchstart&&(L[0].addEventListener("touchstart",u),L[0].addEventListener("touchmove",c),L[0].addEventListener("touchend",h)),L[0].addEventListener("mousedown",u),L[0].addEventListener("mousemove",c),L[0].addEventListener("mouseup",h),L[0].addEventListener("click",d)}function i(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function a(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function r(t){return t>=m?t%m:0>t?r(m+t%m):t}function s(t){var n,i,a,s,o,l,d;for(p="number"==typeof t?t:p,w=Math.floor((p+g/2)/g),a=p-w*g,s=0>a?1:-1,o=-s*a*2/g,e.full_width?d="translateX(0)":(d="translateX("+(L[0].clientWidth-item_width)/2+"px) ",d+="translateY("+(L[0].clientHeight-item_width)/2+"px)"),l=f[r(w)],l.style[D]=d+" translateX("+-a/2+"px) translateX("+s*e.shift*o*n+"px) translateZ("+e.dist*o+"px)",l.style.zIndex=0,e.full_width?tweenedOpacity=1:tweenedOpacity=1-.2*o,l.style.opacity=tweenedOpacity,i=m>>1,n=1;i>=n;++n)e.full_width?(zTranslation=e.dist,tweenedOpacity=n===i&&0>a?1-o:1):(zTranslation=e.dist*(2*n+o*s),tweenedOpacity=1-.2*(2*n+o*s)),l=f[r(w+n)],l.style[D]=d+" translateX("+(e.shift+(g*n-a)/2)+"px) translateZ("+zTranslation+"px)",l.style.zIndex=-n,l.style.opacity=tweenedOpacity,e.full_width?(zTranslation=e.dist,tweenedOpacity=n===i&&a>0?1-o:1):(zTranslation=e.dist*(2*n-o*s),tweenedOpacity=1-.2*(2*n-o*s)),l=f[r(w-n)],l.style[D]=d+" translateX("+(-e.shift+(-g*n-a)/2)+"px) translateZ("+zTranslation+"px)",l.style.zIndex=-n,l.style.opacity=tweenedOpacity;l=f[r(w)],l.style[D]=d+" translateX("+-a/2+"px) translateX("+s*e.shift*o+"px) translateZ("+e.dist*o+"px)",l.style.zIndex=0,e.full_width?tweenedOpacity=1:tweenedOpacity=1-.2*o,l.style.opacity=tweenedOpacity}function o(){var t,e,n,i;t=Date.now(),e=t-X,X=t,n=p-M,M=p,i=1e3*n/(1+e),T=.8*i+.2*T}function l(){var t,n;_&&(t=Date.now()-X,n=_*Math.exp(-t/e.time_constant),n>2||-2>n?(s(O-n),requestAnimationFrame(l)):s(O))}function d(n){if(E)return n.preventDefault(),n.stopPropagation(),!1;if(!e.full_width){var i=t(n.target).closest(".carousel-item").index(),a=w%m-i;0>a?Math.abs(a+m)<Math.abs(a)&&(a+=m):a>0&&Math.abs(a-m)<a&&(a-=m),0>a?t(this).trigger("carouselNext",[Math.abs(a)]):a>0&&t(this).trigger("carouselPrev",[a])}}function u(t){v=!0,E=!1,I=!1,x=i(t),z=a(t),T=_=0,M=p,X=Date.now(),clearInterval(b),b=setInterval(o,100)}function c(t){var e,n,r;if(v)if(e=i(t),y=a(t),n=x-e,r=Math.abs(z-y),30>r&&!I)(n>2||-2>n)&&(E=!0,x=e,s(p+n));else{if(E)return t.preventDefault(),t.stopPropagation(),!1;I=!0}return E?(t.preventDefault(),t.stopPropagation(),!1):void 0}function h(t){return v=!1,clearInterval(b),O=p,(T>10||-10>T)&&(_=.9*T,O=p+_),O=Math.round(O/g)*g,_=O-p,X=Date.now(),requestAnimationFrame(l),t.preventDefault(),t.stopPropagation(),!1}var f,p,w,v,g,m,x,z,_,O,T,D,M,X,b,E,I,L=t(this);return L.hasClass("initialized")?!0:(e.full_width&&(e.dist=0,imageHeight=L.find(".carousel-item img").first().load(function(){L.css("height",t(this).height())})),L.addClass("initialized"),v=!1,p=O=0,f=[],item_width=L.find(".carousel-item").first().innerWidth(),g=2*item_width+e.padding,L.find(".carousel-item").each(function(){f.push(t(this)[0])}),m=f.length,D="transform",["webkit","Moz","O","ms"].every(function(t){var e=t+"Transform";return"undefined"!=typeof document.body.style[e]?(D=e,!1):!0}),window.onresize=s,n(),s(p),t(this).on("carouselNext",function(t,e){void 0===e&&(e=1),O=p+g*e,p!==O&&(_=O-p,X=Date.now(),requestAnimationFrame(l))}),void t(this).on("carouselPrev",function(t,e){void 0===e&&(e=1),O=p-g*e,p!==O&&(_=O-p,X=Date.now(),requestAnimationFrame(l))}))})},next:function(e){t(this).trigger("carouselNext",[e])},prev:function(e){t(this).trigger("carouselPrev",[e])}};t.fn.carousel=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.carousel"):e.init.apply(this,arguments)}}(jQuery);